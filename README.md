# Fintra - AI Market Analysis Dashboard

Fintra is a comprehensive stock market dashboard that combines traditional technical analysis with modern AI insights. It allows users to track real-time stock data, manage a portfolio, and receive actionable trading advice generated by Google's Gemini AI.
You can find the official production release on https://fintraio.vercel.app


![Fintra Dashboard](static/fintralogo.png)


## Why I Built Fintra

Before building **Fintra**, I was a regular investor and trader like most people. While analyzing stocks, I kept wishing for a tool that could show all key technical indicators with a single click. I wanted something **clean, fast, and visually intuitive**, without the user interface getting in the way.

When I could not find anything that fully matched what I had in mind, I decided to build it myself.

Fintra started as a simple interface that displayed **RSI, MACD, and moving averages**. At that stage, there were no charts and no deeper analysis, just raw indicators. From there, I added an **AI-based review system** to provide higher-level insights. After that, I built a more in-depth technical analysis engine designed to be **context-aware** and to complement the AI review rather than replace it. Visualization came next, with **interactive charts** to make the data easier to interpret at a glance.

At that point, Fintra could tell you *what* the indicators suggested, but it could not explain *why*. You could not ask follow-up questions such as why a specific price level might be a good entry point. To solve this, I introduced a **chatbot**. The first version was messy and often picked up the wrong context, producing generic AI responses. I fixed this by building a **context indicator** that clearly shows what data the chatbot is using, allowing users to select and compare multiple stocks with full transparency.

The final major addition was the **Positions tab**, which tracks open positions and, for each one, displays the previous day‚Äôs candlestick data along with **RSI, MACD, and moving average status** specific to that position. Multiple positions can also be fed into the chatbot alongside any searched stock, enabling direct comparisons between positions or against new opportunities.

Fintra ultimately became the tool I originally wanted to use myself: **fast, transparent, context-aware**, and built to support **real decision-making**, not just display data.


## üöÄ Features

### üìä Advanced Market Intelligence
- **Real-Time Data Engine:** Fetches live OHLCV and volume data via `yfinance` with automatic caching to minimize API load.
- **Technical Indicators:**
  - **RSI (14):** Detects overbought/oversold conditions with dynamic coloring and trend velocity analysis.
  - **MACD (12, 26, 9):** Identifies trend reversals, momentum shifts, and signal line crossovers.
  - **Moving Averages:** Tracks SMA-5 and SMA-10 for short-term trend alignment and crossover detection.
- **Interactive Visualization:** Dynamic Chart.js implementations for Price/Volume, MA overlays, RSI zones, and MACD histograms with date-range filtering.
- - **Comprehensive Sidebar:** The sidebar contains 2500+ Indian stocks and ETFs to have a wide range of usability

### ü§ñ AI-Powered Quant Analyst
- **Multi-Model Architecture:** Rotates between Google's **Gemini 2.0 Flash** and **Gemma 3** models for high availability and diverse insights.
- **Smart Summaries:** Generates "skimmable" reports focusing on:
  - **Executive Summary:** The "bottom line" up front.
  - **Momentum & Trend:** Bullish/Bearish signal interpretation.
  - **Risk Analysis:** Immediate support/resistance levels.
  - **Actionable Advice:** Clear entry/exit targets.
- **Rule-Based Hybrid Layer:** Combines deterministic technical signals (e.g., "Golden Cross") with AI reasoning for maximum reliability.

### üíº Intelligent Portfolio Management
- **Position Tracking:** Monitor holdings with live updates on Current Value, P&L ($), and P&L (%).
- **AI Position Doctor:** Generates personalized advice for *your* specific position (e.g., "You are up 15%, consider trimming near resistance at $150").
- **Mini-Charts:** Sparkline-style charts for every position in your portfolio view.
- **Secure Storage:** User data linked securely to Google accounts via PostgreSQL (Production) or SQLite (Dev).

### üí¨ Context-Aware Trading Chatbot ("QuantAI")
- **Contextual Awareness:** The chatbot "sees" the stock you are currently analyzing.
- **Portfolio Integration:** Ask "How are my tech stocks doing?" and it analyzes your specific holdings.
- **Multi-Stock Comparison:** Select multiple stocks to generate comparative analysis tables.
- **Trader Persona:** Engineered to speak like a professional mentor, not a generic AI.

### üîê Enterprise-Grade Security
- **Stateless Authentication:** Uses **JWT (JSON Web Tokens)** for session management.
  - **Access Tokens:** Short-lived (15 min) for security.
  - **Refresh Tokens:** Long-lived (7 days) for seamless UX.
- **OAuth 2.0:** Secure Google Sign-In flow.
- **Cookie Security:** `HttpOnly`, `Secure`, and `SameSite` policies enforced for production environments.

### üì± Modern UI/UX
- **Responsive Design:** Mobile-first interface with a collapsible sidebar and touch-friendly controls.
- **Dark Mode:** Professional financial dashboard theme using `Plus Jakarta Sans` and `Space Grotesk` typography.
- **Stock Navigator:** Categorized sidebar (Nifty 50, US Stocks, ETFs) for quick navigation.

## üõ†Ô∏è Tech Stack

### Backend
- **Language:** Python 3.x
- **Framework:** Flask
- **Database:** SQLAlchemy (SQLite for dev, PostgreSQL for prod)
- **AI:** Google Generative AI (Gemini API)
- **Data:** `yfinance`, `pandas`, `numpy`
- **Auth:** Google OAuth 2.0, PyJWT

### Frontend
- **Core:** Vanilla JavaScript (ES6 Modules)
- **Styling:** CSS3 (Custom variables, Flexbox/Grid)
- **Visualization:** Chart.js, Chart.js Adapter Date-fns
- **Markdown:** Marked.js (for AI response rendering)

## ‚öôÔ∏è Installation & Setup

### Prerequisites
- Python 3.8+
- A Google Cloud Project with OAuth credentials
- A Google Gemini API Key

### 1. Clone the Repository
```bash
git clone https://github.com/yourusername/fintra.git
cd fintra
```

### 2. Create Virtual Environment
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

### 3. Install Dependencies
```bash
pip install Flask Flask-SQLAlchemy Flask-CORS yfinance pandas numpy requests PyJWT python-dotenv
```

### 4. Configure Environment Variables
Create a `.env` file in the root directory:

```env
# Flask Settings
FLASK_APP=app.py
FLASK_ENV=development
FLASK_SECRET_KEY=your_super_secret_key

# Database (Defaults to SQLite if not set)
# DATABASE_URL=postgresql://user:pass@localhost/dbname

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# AI Configuration
GEMINI_API_KEY=your_gemini_api_key

# JWT Secrets (Generate random strings)
ACCESS_TOKEN_JWT_SECRET=random_string_1
REFRESH_TOKEN_JWT_SECRET=random_string_2

# Optional
DATA_DIR=./data
```

### 5. Run the Application
```bash
python app.py
```
The server will start at `http://localhost:5000`.

## üìÇ Project Structure

- **`app.py`**: Application entry point and error handling.
- **`routes.py`**: API endpoints for data, auth, and portfolio management.
- **`analysis.py`**: Core logic for technical indicators and AI prompt engineering.
- **`auth.py`**: JWT generation, verification, and cookie management.
- **`models.py`**: Database schema definitions (`User`, `Position`).
- **`static/`**: Frontend assets (JS modules, CSS, HTML).

## üìÑ License

This project is open-source and available under the MIT License.
